# Stereo Matching

There only one python file in this part which is used to do stereo matching and generate the disparity map. In addition the left and right folder contain the corresponding left and right images respectively.

## calculate_disparity.py

This file is implemented to generate the disparity map by given the left image and right image of the same view. 

There are two main functions in this file to finish the task.

- init_StereoSGBM(min_disp, num_disp, window_size) -> stereo_instance

In this function, a SGBM instance would be initialized and returned. The method of this instance would be used to calculate the disparity map. The stereo instance is initialized by **cv2.StereoSGBM_create()** with a lot of parameters passed. After generating the instance, it would be the return parameter of **init_StereoSGBM**.

given parameters:

    1. min_disp: The minimum value of the disparity value.
    2. num_disp: The possible values of the disparity, which could determine the range of disparity value with *min_disp*.
    3. window_size: The parameter used to control the smooth of disparity.
    
return parameters:

    1. stereo_instance: The instance would be used when calculating the disparity. 
    
- calculate_disp(img1, img2, stereo) -> disp

In this funciton, the disparity map is generated by the method of the instance got by the **init_StereoSGBM()**. In this function, the method of the stereo instant **stereo.compute()** is called with the left image and the right image as the two given parameters. This function would return the generated disparity map and then every element in this map should be divided by 16 which is defined by OpenCV. Then the processed disparity map would be returned.

given parameters:

    1. img1: The left image.
    2. img2: The right image.
    3. stereo: The SGBM instance would be initialized by **init_StereoSGB()**

return parameters:

    1. disp: The generated disparity map.
